<link rel="import" href="timeline-bar.html">
<link rel="import" href="curve-view.html">
<link rel="import" href="drop-sheet.html">

<polymer-element
    name="anim-view"
    constructor="AnimView"
    on-focus="{{_focusAction}}"
    on-blur="{{_blurAction}}"
    on-focusin="{{_focusInAction}}"
    on-focusout="{{_focusOutAction}}"
>
    <template>
        <link rel="stylesheet" href="anim-view.css">

        <div id="border" class="border" fit flex-col flex-stretch
            on-mousedown="{{_onMouseDown}}"
            on-mousewheel="{{_onMouseWheel}}"
            on-click="{{_onMouseClick}}"
            on-keydown="{{_onKeydown}}"
            on-keyup="{{_onKeyup}}"
            >
            <timline-bar id="timeline"></timline-bar>
            <div class="view" flex-1>
                <curve-view id="curveview" fit>
                </curve-view>

                <drop-sheet id="dropsheet" fit>
                </drop-sheet>
            </div>

            <div id="needle">
                <div id="mousecube" on-mousedown="{{_onNeedleMouseDown}}">
                    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" style="width:10px;height:40px;">
                        <polygon points="0,0 10,0 4.5,8" style="fill:white;"/>
                    </svg>
                </div>
            </div>
            <div id="mask"></div>
            <div id="tip">{{curFrame}}</div>
        </div>
    </template>

    <script type="text/javascript" src="anim-view.js"></script>
</polymer-element>
